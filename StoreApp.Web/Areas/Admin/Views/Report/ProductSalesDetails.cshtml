@model StoreApp.Web.Areas.Admin.Models.Reports.ProductSalesDetailsViewModel

<h4 class="mb-4 fw-bold text-primary">
    <i class="bi bi-bar-chart-line-fill me-2"></i> Ürün Satış Detayları
</h4>

<div class="d-flex align-items-start gap-4 mb-4">
    <img src="/img/products/@Model.Image" alt="@Model.ProductName" class="img-thumbnail shadow-sm"
        style="width: 140px; height: auto;" />

    <div>
        <p class="mb-1"><strong>Ürün:</strong> <span class="text-dark">@Model.ProductName</span></p>
        <p class="mb-1"><strong>Kategoriler:</strong> <span class="text-muted">@Model.Categories</span></p>
        <p><strong>Toplam Satılan Adet:</strong>
            @Model.Sales.Sum(s => s.Quantity)
        </p>
    </div>
</div>



<div class="table-responsive shadow-sm rounded border">
    <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
            <tr>
                <th style="width: 25%;">Kullanıcı</th>
                <th style="width: 30%;">Email</th>
                <th style="width: 25%;">Sipariş Tarihi</th>
                <th style="width: 20%;">Adet</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var sale in Model.Sales)
            {
                <tr onclick="location.href='@Url.Action("Details", "Order", new { area = "Admin", id = sale.OrderId })'"
                    style="cursor:pointer;">
                    <td>@sale.UserName</td>
                    <td class="text-muted">@sale.Email</td>
                    <td>@sale.OrderDate.ToString("dd.MM.yyyy")</td>
                    <td>@sale.Quantity</td>
                </tr>

            }
        </tbody>
    </table>
</div>

<a href="@Url.Action("ProductSalesList", "Report", new { area = "Admin" })" class="btn btn-outline-secondary mt-4">
    <i class="bi bi-arrow-left"></i> Geri Dön
</a>
